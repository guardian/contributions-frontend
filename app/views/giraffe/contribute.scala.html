@import com.gu.i18n.CountryGroup
@import views.support.ChosenVariants
@import views.support.PageInfo
@import views.support.Asset
@import views.support.CountryGroupImplicits._

@import play.api.libs.json.Json
@(pageInfo: PageInfo, maxAmount: Int, countryGroup: CountryGroup, chosenVariants: ChosenVariants, cmpCode: Option[String], intCmpCode: Option[String], creditCardExpiryYears: List[Int], errorMessage:Option[String])

@main(pageInfo, Some(countryGroup), Some(maxAmount), Some("contributePage.js")) {
    <main class="giraffe__wrapper currency-@countryGroup.currency.toString.toLowerCase">

        @for(message <- errorMessage) {
            <div id="errorDialog" class="overlay">
                <div>
                    <h1 class="errorHeader">We're sorry</h1>
                    <p class="errorMessage">@message</p>
                    <button class="action action--button contribute-navigation__next" id="errorDialogButton">OK</button>

                </div>
            </div>
        }

        <div class="giraffe__inner page-slice l-constrained flex-horizontal-from-tablet">
            <section class="giraffe__heading">
                <h1 class="giraffe__heading--main">
                    <span class="giraffe__heading--main--jaunty">Producing </span>
                    <span class="giraffe__heading--main--jaunty">well-reported </span>
                    <span class="giraffe__heading--main--jaunty">journalism </span>
                    <span class="giraffe__heading--main--jaunty">is difficult and expensive. </span>
                </h1>
                <h2 class="giraffe__heading--sub">
                    <span class="giraffe__heading--sub--jaunty">Supporting us isn’t. </span>
                    <span class="giraffe__heading--sub--jaunty">Please give to </span>
                    <span class="giraffe__heading--sub--jaunty">the Guardian.</span> </h2>
            </section>

            <!-- react injects its components here -->
            <section    id="contribute" class="contribute-container"
                        data-ab-tests="@Json.stringify(chosenVariants.asJson)"
                        data-country-group="@Json.stringify(Json.toJson(countryGroup))"
                        data-max-amount="@maxAmount"
                        @cmpCode.map(code => Html(s"""data-cmp-code="${code}""""))
                        @intCmpCode.map(code => Html(s"""data-int-cmp-code="${code}""""))>
            </section>
        </div>
    </main>




    <section class="disclaimer">
        <div class="support-wrapper page-slice page-slice__feedback l-constrained currency-@countryGroup.currency.toString.toLowerCase">
            <div class="feedback">
                <section>
                    <p>If you have any questions about contributing to the Guardian, please
                        <a href="mailto:contribution.support@@theguardian.com" class="support-thanks__link">
                            contact us here</a>.

                </section>

                <section>
                    <p>
                        The ultimate owner of the Guardian is The Scott Trust Limited, whose role it is to secure the editorial and financial independence of the Guardian in perpetuity. Reader contributions support the Guardian’s journalism.
                    </p>

                </section>
                <section>
                    <p data-shown="gbp aud eur">
                        Please note that your support of the Guardian’s journalism does not constitute a charitable donation, as such your contribution is not eligible for Gift Aid in the UK nor a tax-deduction elsewhere.
                    </p>
                    <p data-shown="usd">
                        Please note that the Guardian is not a charity, will not use your support for charitable
                        programs, and your support of the Guardian’s journalism does not constitute a
                        charitable donation. As such your contribution is not eligible to be treated as a
                        charitable deduction for federal or state taxes in the United States or elsewhere.
                    </p>
                </section>
            </div>
        </div>
    </section>
}
